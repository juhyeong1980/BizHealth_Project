<div style="padding: 20px; font-family: 'Inter', sans-serif;">
    <h2 style="margin-top: 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 15px;">
        <i class="fas fa-cogs" style="color: #666;"></i> ë°ì´í„° ê´€ë¦¬ ì„¼í„°
    </h2>

    <!-- íƒ­ ë©”ë‰´ -->
    <div style="display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 1px solid #ddd;">
        <button onclick="DataManager.switchTab('merge')" id="tab-merge" class="tab-btn active">ğŸ¢ ì‚¬ì—…ì¥ ë³‘í•© ê·œì¹™</button>
        <button onclick="DataManager.switchTab('exclude')" id="tab-exclude" class="tab-btn">ğŸš« ì œì™¸ ì‚¬ì—…ì¥ ê´€ë¦¬</button>
        <button onclick="DataManager.switchTab('upload')" id="tab-upload" class="tab-btn">ğŸ“¤ íŒŒì¼ ì—…ë¡œë“œ</button>
    </div>

    <!-- 1. ë³‘í•© ê·œì¹™ ê´€ë¦¬ (Merge) -->
    <div id="view-merge" class="dm-view">
        <div class="card"
            style="padding: 20px; background: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div
                style="display: flex; gap: 10px; margin-bottom: 15px; background: #f8f9fa; padding: 15px; border-radius: 6px; align-items: center;">
                <input type="text" id="merge-origin" placeholder="ì›ë³¸ ì´ë¦„ (ì˜ˆ: ì‚¼ì„±ì „ì ìˆ˜ì›)" style="flex: 2; padding: 8px;">
                <i class="fas fa-arrow-right" style="color: #888;"></i>
                <input type="text" id="merge-standard" placeholder="í‘œì¤€ ì´ë¦„ (ì˜ˆ: ì‚¼ì„±ì „ì)" style="flex: 2; padding: 8px;">
                <input type="text" id="merge-memo" placeholder="ë©”ëª¨ (ì„ íƒ)" style="flex: 1; padding: 8px;">
                <button onclick="DataManager.addMergeRule()"
                    style="background: #007bff; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">
                    <i class="fas fa-plus"></i> ì¶”ê°€
                </button>
            </div>

            <table class="data-table" style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #f1f3f5; color: #495057;">
                        <th style="padding: 10px; text-align: left;">ì›ë³¸ ì´ë¦„</th>
                        <th style="padding: 10px; text-align: left;">í‘œì¤€ ì´ë¦„</th>
                        <th style="padding: 10px; text-align: left;">ë©”ëª¨</th>
                        <th style="padding: 10px; text-align: center;">ê´€ë¦¬</th>
                    </tr>
                </thead>
                <tbody id="merge-list">
                    <!-- JSë¡œ ë°ì´í„° ë¡œë“œ -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- 2. ì œì™¸ ê´€ë¦¬ (Exclude) -->
    <div id="view-exclude" class="dm-view" style="display: none;">
        <div class="card"
            style="padding: 20px; background: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div
                style="display: flex; gap: 10px; margin-bottom: 15px; background: #f8f9fa; padding: 15px; border-radius: 6px;">
                <input type="text" id="exclude-name" placeholder="ì œì™¸í•  ì‚¬ì—…ì¥ ì´ë¦„" style="flex: 3; padding: 8px;">
                <input type="text" id="exclude-memo" placeholder="ì‚¬ìœ  (ì˜ˆ: í‡´ì‚¬ì, í…ŒìŠ¤íŠ¸ìš©)" style="flex: 2; padding: 8px;">
                <button onclick="DataManager.addExcludeRule()"
                    style="background: #dc3545; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">
                    <i class="fas fa-ban"></i> ì œì™¸ ì¶”ê°€
                </button>
            </div>

            <table class="data-table" style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #f1f3f5; color: #495057;">
                        <th style="padding: 10px; text-align: left;">ì‚¬ì—…ì¥ ì´ë¦„</th>
                        <th style="padding: 10px; text-align: left;">ë©”ëª¨</th>
                        <th style="padding: 10px; text-align: center;">ê´€ë¦¬</th>
                    </tr>
                </thead>
                <tbody id="exclude-list">
                    <!-- JSë¡œ ë°ì´í„° ë¡œë“œ -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- 3. íŒŒì¼ ì—…ë¡œë“œ (Upload) -->
    <div id="view-upload" class="dm-view" style="display: none;">
        <div class="card"
            style="padding: 40px; background: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); text-align: center;">
            <i class="fas fa-cloud-upload-alt" style="font-size: 48px; color: #007bff; margin-bottom: 20px;"></i>
            <h3 style="margin-bottom: 10px;">ë°ì´í„° íŒŒì¼ ì—…ë¡œë“œ</h3>
            <p style="color: #666; margin-bottom: 30px;">
                <code>healthcare.db</code> ë˜ëŠ” <code>csv2024.csv</code> ê°™ì€ íŒŒì¼ì„ ì´ê³³ì— ì—…ë¡œë“œí•˜ì„¸ìš”.<br>
                íŒŒì¼ì€ <strong>ì„œë²„(Backend)</strong> í´ë”ë¡œ ë°”ë¡œ ì „ì†¡ë©ë‹ˆë‹¤.
            </p>

            <div id="drop-zone"
                style="border: 2px dashed #ccc; padding: 40px; border-radius: 10px; background: #fafafa; cursor: pointer; transition: all 0.3s;"
                onclick="document.getElementById('file-input').click()"
                ondragover="event.preventDefault(); this.style.background='#e9ecef'; this.style.borderColor='#007bff';"
                ondragleave="this.style.background='#fafafa'; this.style.borderColor='#ccc';"
                ondrop="DataManager.handleDrop(event)">

                <p style="font-size: 16px; color: #555;">ì—¬ê¸°ë¥¼ í´ë¦­í•˜ê±°ë‚˜ íŒŒì¼ì„ ë“œë˜ê·¸í•˜ì„¸ìš”</p>
                <input type="file" id="file-input" style="display: none;"
                    onchange="DataManager.uploadFile(this.files[0])">
            </div>

            <div id="upload-status" style="margin-top: 20px; font-weight: bold;"></div>
        </div>
    </div>
</div>

<style>
    .tab-btn {
        padding: 10px 20px;
        border: none;
        background: none;
        cursor: pointer;
        font-size: 14px;
        color: #666;
        border-bottom: 2px solid transparent;
        transition: all 0.2s;
    }

    .tab-btn.active {
        color: #007bff;
        border-bottom: 2px solid #007bff;
        font-weight: bold;
    }

    .tab-btn:hover {
        background: #f8f9fa;
    }

    .data-table td {
        border-bottom: 1px solid #eee;
        padding: 10px;
        font-size: 14px;
    }

    .del-btn {
        background: #ffe3e3;
        color: #e03131;
        border: none;
        padding: 5px 10px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
    }

    .del-btn:hover {
        background: #ffc9c9;
    }
</style>